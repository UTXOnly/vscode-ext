{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Datadog Disk Integration Configuration",
  "type": "object",
  "properties": {
    "init_config": {
      "type": "object",
      "description": "Global configuration options. Typically left empty.",
      "default": {}
    },
    "instances": {
      "type": "array",
      "description": "List of disk instances to monitor.",
      "items": {
        "type": "object",
        "properties": {
          "use_mount": {
            "type": "boolean",
            "description": "Use the mount point instead of the device name for metrics.",
            "default": false
          },
          "excluded_filesystems": {
            "type": "array",
            "description": "List of filesystem types to exclude from monitoring.",
            "items": {
              "type": "string"
            },
            "default": []
          },
          "excluded_disks": {
            "type": "array",
            "description": "List of disk names to exclude from monitoring.",
            "items": {
              "type": "string"
            },
            "default": []
          },
          "excluded_mountpoint_re": {
            "type": "string",
            "description": "Regex pattern to exclude mount points from monitoring."
          },
          "tag_by_filesystem": {
            "type": "boolean",
            "description": "Tag metrics by filesystem type.",
            "default": false
          },
          "all_partitions": {
            "type": "boolean",
            "description": "Collect metrics for all partitions, including pseudo, duplicate, or inaccessible file systems.",
            "default": false
          },
          "only_physical_disks": {
            "type": "boolean",
            "description": "Collect metrics only for physical disks.",
            "default": false
          },
          "file_system_blacklist": {
            "type": "array",
            "description": "List of filesystem types to blacklist from monitoring.",
            "items": {
              "type": "string"
            },
            "default": []
          },
          "mount_point_blacklist": {
            "type": "array",
            "description": "List of mount points to blacklist from monitoring.",
            "items": {
              "type": "string"
            },
            "default": []
          },
          "service_check_rw": {
            "type": "boolean",
            "description": "Enable service check for read/write status of the filesystem.",
            "default": false
          },
          "min_collection_interval": {
            "type": "number",
            "description": "Minimum collection interval for the check in seconds.",
            "default": 15
          },
          "tags": {
            "type": "array",
            "description": "List of tags to attach to every metric and service check emitted by this instance.",
            "items": {
              "type": "string"
            },
            "default": []
          },
          "service": {
            "type": "string",
            "description": "Attach the tag `service:<SERVICE>` to every metric, event, and service check emitted by this integration."
          },
          "empty_default_hostname": {
            "type": "boolean",
            "description": "Send metrics with no hostname. Useful for cluster-level checks.",
            "default": false
          }
        },
        "additionalProperties": false
      }
    }
  },
  "required": ["instances"],
  "additionalProperties": false
}
